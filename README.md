# spu_improving

Улучшение метрики поиска "Количество сессий на пользователя". 
Два шага:
1) Новый способ определения границ поисковых сессий с учётом схожести запросов. Схожесть определяется через расстояние между текстами, которое рассчитывается как косинусное расстояние между векторными представлениями. В явном виде содержится в файле distances. Алгоритм реализован в session_boundaries_detection.ipynb   
2) Применение успешности. Вердикт успешности для запроса — ответ на вопрос "Решил ли пользователь свою задачу в данном запросе?". На основе определения успешности можно построить некоторые метрики:
   - взвешенная сумма (маппинг для вердиктов)
   - количество успешных/неуспешных запросов
   - доля решений

   Продемонстрировано на эксперименте swap14 — ухудшающее изменение, в ходе которого 1 и 4 ссылка на выдаче меняются местами. См. using_success.ipynb. 
